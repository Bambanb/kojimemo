<!doctype html>
<html lang="ja">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>„É°„É¢</title>
  <style>
    :root{
      --bg:#202124;
      --panel:#2b2d31;
      --panel2:#26282c;
      --text:#e8eaed;
      --muted:#a9adb6;
      --line:rgba(255,255,255,.08);
      --accent:#8ab4f8;
      --danger:#ff6b6b;
      --radius:16px;
    }
    *{box-sizing:border-box}

    /* Êõ¥Êñ∞„ÉÜ„Çπ„Éà */
    
    body{
      margin:0;
      font-family:system-ui,-apple-system,"Segoe UI","Noto Sans JP",sans-serif;
      background:var(--bg);
      color:var(--text);
    }
    header{
      position:sticky;top:0;z-index:10;
      padding:14px 14px 10px;
      background:linear-gradient(to bottom, rgba(32,33,36,.96), rgba(32,33,36,.70));
      backdrop-filter: blur(10px);
      border-bottom:1px solid var(--line);
    }
    .row{display:flex;align-items:center;gap:10px}
    .between{justify-content:space-between}
    .title{
      font-weight:700;
      letter-spacing:.02em;
      font-size:18px;
    }
    .crumb{
      margin-top:6px;
      color:var(--muted);
      font-size:12px;
      white-space:nowrap;
      overflow:hidden;
      text-overflow:ellipsis;
    }
    .btn{
      border:1px solid var(--line);
      background:rgba(255,255,255,.04);
      color:var(--text);
      border-radius:14px;
      padding:10px 12px;
      font-weight:650;
      font-size:14px;
      line-height:1;
      user-select:none;
    }
    .btn:active{transform:translateY(1px)}
    .btn.accent{border-color:rgba(138,180,248,.35); background:rgba(138,180,248,.12); color:var(--accent)}
    .btn.danger{border-color:rgba(255,107,107,.35); background:rgba(255,107,107,.10); color:var(--danger)}
    .btn.icon{padding:10px 12px; min-width:44px; text-align:center}
    .pill{
      flex:1;
      display:flex; align-items:center; gap:8px;
      background:rgba(255,255,255,.04);
      border:1px solid var(--line);
      border-radius:16px;
      padding:10px 12px;
      min-width:0;
    }
    .pill input{
      width:100%;
      border:0; outline:0;
      background:transparent;
      color:var(--text);
      font-size:14px;
      min-width:0;
    }
    main{padding:12px 14px 80px}
    .panel{
      background:rgba(255,255,255,.03);
      border:1px solid var(--line);
      border-radius:var(--radius);
      padding:14px;
      margin:12px 0;
    }
    .panel h3{
      margin:0 0 10px;
      font-size:13px;
      color:var(--muted);
      font-weight:700;
      letter-spacing:.06em;
    }
    .item{
      display:flex;
      align-items:center;
      justify-content:space-between;
      gap:12px;
      padding:14px 14px;
      border-radius:14px;
      background:rgba(255,255,255,.03);
      border:1px solid var(--line);
      margin:10px 0;
    }
    .item:active{transform:translateY(1px)}
    .left{display:flex;align-items:center;gap:10px;min-width:0}
    .ico{font-size:16px; opacity:.9}
    .name{
      font-weight:700;
      font-size:15px;
      white-space:nowrap; overflow:hidden; text-overflow:ellipsis;
      min-width:0;
    }
    .meta{
      display:flex;align-items:center;gap:10px;
      color:var(--muted);
      font-size:12px;
      flex-shrink:0;
    }
    .meta span{opacity:.9}
    .arrow{color:var(--muted); opacity:.7}
    .fab{
      position:fixed; right:16px; bottom:18px;
      display:flex; gap:10px;
      z-index:20;
    }
    .fab .btn{border-radius:18px; padding:12px 14px}
    /* editor */
    #editorView{
      position:fixed; inset:0;
      background:var(--bg);
      display:none;
      flex-direction:column;
      z-index:50;
    }
    #editorTop{
      position:sticky; top:0;
      padding:14px;
      border-bottom:1px solid var(--line);
      background:linear-gradient(to bottom, rgba(32,33,36,.98), rgba(32,33,36,.78));
      backdrop-filter: blur(10px);
    }
    #editorTop .small{color:var(--muted); font-size:12px}
    #titleInput{
      width:100%;
      margin-top:10px;
      border:1px solid var(--line);
      background:rgba(255,255,255,.03);
      color:var(--text);
      border-radius:14px;
      padding:12px 12px;
      font-size:15px;
      outline:none;
      font-weight:700;
    }
    #bodyInput{
      flex:1;
      width:100%;
      border:0;
      outline:none;
      resize:none;
      background:transparent;
      color:var(--text);
      padding:14px;
      font-size:15px;
      line-height:1.7;
    }
    .spacer{height:8px}
    .hint{color:var(--muted); font-size:12px}
  </style>
</head>
<body>
  <header>
    <div class="row between">
      <div class="row" style="min-width:0">
        <button class="btn icon" id="backBtn" title="‰∏ä„Å∏">‚Üê</button>
        <div style="min-width:0">
          <div class="title" id="headTitle" data-i18n="„Éõ„Éº„É†">„Éõ„Éº„É†</div>
          <div class="crumb" id="breadcrumb">/</div>
        </div>
      </div>
    </div>

    <div class="spacer"></div>

    <div class="row">

<div class="row">
  <button class="btn icon" id="searchBtn" title="Ê§úÁ¥¢">üîé</button>
  <button class="btn icon" id="modeBtn" title="„É¢„Éº„ÉâÂàáÊõø">ÂæÖ</button>
</div>
      
      <div class="pill">
        <span class="ico">‚úé</span>
        <input id="qInput" data-ph="„Çø„Ç§„Éà„É´/Êú¨Êñá„ÅÆ‰∏ÄÈÉ®Ôºà‰ªªÊÑèÔºâ" placeholder="„Çø„Ç§„Éà„É´/Êú¨Êñá„ÅÆ‰∏ÄÈÉ®Ôºà‰ªªÊÑèÔºâ" />
      </div>
      <button class="btn" id="renameFolderBtn" data-i18n="„Éï„Ç©„É´„ÉÄÂêçÂ§âÊõ¥">„Éï„Ç©„É´„ÉÄÂêçÂ§âÊõ¥</button>
<button class="btn danger" id="deleteFolderBtn" data-i18n="„Éï„Ç©„É´„ÉÄÂâäÈô§">„Éï„Ç©„É´„ÉÄÂâäÈô§</button>
    </div>
  </header>

<main>
  <div class="panel" id="foldersPanel">
    <h3>„Éï„Ç©„É´„ÉÄ</h3>
    <div id="foldersList"></div>
    <div class="hint" id="foldersEmpty" style="display:none;">„Éï„Ç©„É´„ÉÄ„Å™„Åó</div>
  </div>

  <div class="panel" id="memosPanel">
    <h3>„É°„É¢</h3>
    <div id="memosList"></div>
    <div class="hint" id="memosEmpty" style="display:none;">„É°„É¢„Å™„Åó</div>
  </div>
</main>

  <div class="fab">
    <button class="btn accent" id="addMemoBtn" data-i18n="Ôºã„É°„É¢">Ôºã„É°„É¢</button>
<button class="btn accent" id="addFolderBtn" data-i18n="ÔºãüìÅ">ÔºãüìÅ</button>
    
  </div>

  <!-- editor -->
  <div id="editorView">
    <div id="editorTop">
      <div class="row between">
        <button class="btn" id="closeEditorBtn">‚Üê</button>
        <div class="small" id="charCount" data-i18n="ÊñáÂ≠óÊï∞">ÊñáÂ≠óÊï∞ 0</div>
        <button class="btn accent" id="saveBtn" data-i18n="‰øùÂ≠ò">‰øùÂ≠ò</button>
      </div>
      <input id="titleInput" data-ph="„Çø„Ç§„Éà„É´" placeholder="„Çø„Ç§„Éà„É´" />
      <textarea id="bodyInput" data-ph="„Åì„Åì„Å´Êú¨Êñá„ÇíÊõ∏„Åè„ÄÇ" placeholder="„Åì„Åì„Å´Êú¨Êñá„ÇíÊõ∏„Åè„ÄÇ"></textarea>
    </div>
  </div>

<script>
  document.documentElement.insertAdjacentHTML(
  "afterbegin",
  `<div style="position:fixed;left:8px;top:8px;z-index:99999;
              padding:6px 10px;border-radius:10px;
              background:#ff0;color:#000;font-weight:800;">
     JS OK
   </div>`
);
window.onerror = function (msg, src, line, col) {
  document.body.insertAdjacentHTML(
    "afterbegin",
    `<pre style="position:fixed;left:8px;top:44px;z-index:99999;
                max-width:92vw;white-space:pre-wrap;
                padding:10px;border-radius:10px;
                background:#f33;color:#fff;">
JS ERROR:
${msg}
${line}:${col}
${src}
</pre>`
  );
};

  window.onerror = function (msg, src, line, col, err) {
  alert(`JS„Ç®„É©„Éº:\n${msg}\n${line}:${col}\n${src}`);
};
alert("JS Ëµ∑ÂãïOK");
  
/** ========= Ë®≠ÂÆö ========= */
const CONFIG = {
  showMemosOnTop: true,   // ‚Üê„Äå„É°„É¢‰∏ÄË¶ß„ÅÑ„Çâ„Çì„Äç„Å™„Çâ false „Å´„Åô„ÇãÔºà„Éï„Ç©„É´„ÉÄ„Å†„ÅëË°®Á§∫Ôºâ
  autosaveMs: 600,        // Ëá™Âãï‰øùÂ≠òÈñìÈöî
  storageKey: "memoTreeV2_notaUI"
};

/** ========= „Éá„Éº„Çø =========
node = { folders:{name:node}, memos:{id:{id,title,text,updatedAt}} }
*/
function newNode(){ return { folders:{}, memos:{} }; }
function now(){ return Date.now(); }
function uid(){ return "m_" + Math.random().toString(36).slice(2) + "_" + now().toString(36); }

let root = load() || newNode();
let path = [];                 // ["ÁöáÈ¢Ø", "Áü≠Á∑®", ...]
let editingId = null;
let autosaveTimer = null;

const el = (id)=>document.getElementById(id);

function load(){
  try{
    const s = localStorage.getItem(CONFIG.storageKey);
    if(!s) return null;
    return JSON.parse(s);
  }catch(e){ return null; }
}
function persist(){
  try{
    localStorage.setItem(CONFIG.storageKey+"_bak", JSON.stringify(root));
    localStorage.setItem(CONFIG.storageKey, JSON.stringify(root));
  }catch(e){
    alert("‰øùÂ≠ò„Åß„Åç„Åæ„Åõ„Çì„Åß„Åó„ÅüÔºà„Çπ„Éà„É¨„Éº„Ç∏‰∏äÈôê„Å™„Å©Ôºâ");
  }
}
function getNode(p = path){
  let node = root;
  for(const name of p){
    if(!node.folders[name]) node.folders[name] = newNode();
    node = node.folders[name];
  }
  return node;
}
function folderCharSum(node){
  let sum = 0;
  for(const id in node.memos){
    sum += (node.memos[id].text || "").length;
  }
  for(const fname in node.folders){
    sum += folderCharSum(node.folders[fname]);
  }
  return sum;
}

function setCrumb(){
  el("headTitle").textContent = path.length ? path[path.length-1] : "„Éõ„Éº„É†";
  el("breadcrumb").textContent = "/" + path.join("/");
  el("backBtn").disabled = path.length === 0;
}

function render(){
  setCrumb();
  const node = getNode();
  const q = (el("qInput").value || "").trim().toLowerCase();

  // folders
  const folders = Object.keys(node.folders).sort((a,b)=>a.localeCompare(b,"ja"));
  const foldersList = el("foldersList");
  foldersList.innerHTML = "";
  let folderShown = 0;
  for(const name of folders){
    // search filter: if q exists, folder is shown if anything inside matches (cheap: always show folders when q empty)
    if(q){
      // quick check: if folder has memos containing q in title/text
      const sub = node.folders[name];
      const hit = hasHitInFolder(sub, q);
      if(!hit) continue;
    }
    folderShown++;

    const sub = node.folders[name];
    const memoCount = Object.keys(sub.memos).length;
    const charSum = folderCharSum(sub);

    const div = document.createElement("div");
    div.className = "item";
    div.innerHTML = `
      <div class="left" style="min-width:0">
        <div class="ico">üìÅ</div>
        <div class="name" title="${escapeHtml(name)}">${escapeHtml(name)}</div>
      </div>
      <div class="meta">
      <span>${t("ÊñáÂ≠óÊï∞")} ${charSum}</span>
        <span>üìù ${memoCount}</span>
        <span>ÊñáÂ≠ó ${charSum}</span>
        <span class="arrow">‚Ä∫</span>
      </div>
    `;
    div.addEventListener("click", ()=>{
      path.push(name);
      render();
    });
    foldersList.appendChild(div);
  }
  el("foldersEmpty").style.display = folderShown ? "none" : "block";

  // memos
  el("memosPanel").style.display = CONFIG.showMemosOnTop ? "block" : "none";
  if(CONFIG.showMemosOnTop){
    const memos = Object.values(node.memos)
      .sort((a,b)=>(b.updatedAt||0)-(a.updatedAt||0));
    const memosList = el("memosList");
    memosList.innerHTML = "";
    let memoShown = 0;

    for(const m of memos){
      const t = (m.title||"").toLowerCase();
      const x = (m.text||"").toLowerCase();
      if(q && !(t.includes(q) || x.includes(q))) continue;
      memoShown++;

      const preview = (m.text||"").replace(/\s+/g," ").slice(0,30);
      const div = document.createElement("div");
      div.className = "item";
      div.innerHTML = `
        <div class="left" style="min-width:0">
          <div class="ico">üìù</div>
          <div style="min-width:0">
            <div class="name" title="${escapeHtml(m.title||"(ÁÑ°È°å)")}">${escapeHtml(m.title||"(ÁÑ°È°å)")}</div>
            <div class="hint" style="margin-top:2px; white-space:nowrap; overflow:hidden; text-overflow:ellipsis; max-width:52vw;">
              ${escapeHtml(preview)}
            </div>
          </div>
        </div>
        <div class="meta">
        <span>${(m.text||"").length}${t("Â≠ó")}</span>
          <span class="arrow">‚Ä∫</span>
        </div>
      `;
      div.addEventListener("click", ()=>openEditor(m.id));
      memosList.appendChild(div);
    }
    el("memosEmpty").style.display = memoShown ? "none" : "block";
  }
}

function hasHitInFolder(node, q){
  for(const id in node.memos){
    const m = node.memos[id];
    const t = (m.title||"").toLowerCase();
    const x = (m.text||"").toLowerCase();
    if(t.includes(q) || x.includes(q)) return true;
  }
  for(const name in node.folders){
    if(hasHitInFolder(node.folders[name], q)) return true;
  }
  return false;
}

function escapeHtml(s){
  return (s??"").replace(/[&<>"']/g, c=>({ "&":"&amp;","<":"&lt;",">":"&gt;","\"":"&quot;","'":"&#39;" }[c]));
}

/** ========= Êìç‰Ωú ========= */
function goUp(){
  if(path.length>0){ path.pop(); render(); }
}
function addFolder(){
  const name = prompt(t("„Éï„Ç©„É´„ÉÄÂêç"));
  if(!name) return;
  const node = getNode();
  if(node.folders[name]){ alert(t("ÂêåÂêç„Éï„Ç©„É´„ÉÄ„Åå„ÅÇ„Çä„Åæ„Åô")); return; }
  node.folders[name] = newNode();
  persist();
  render();
}
function addMemo(){
  const node = getNode();
  const id = uid();
  node.memos[id] = { id, title:"", text:"", updatedAt: now() };
  persist();
  openEditor(id);
}
function renameCurrentFolder(){
  if(path.length===0){ alert(t("„Éõ„Éº„É†„ÅØÂ§âÊõ¥„Åß„Åç„Åæ„Åõ„Çì")); return; }
  const parent = getParentNode();
  const old = path[path.length-1];
  const nu = prompt(t("Êñ∞„Åó„ÅÑ„Éï„Ç©„É´„ÉÄÂêç"), old);
  if(!nu || nu===old) return;
  if(parent.folders[nu]){ alert(t("ÂêåÂêç„Éï„Ç©„É´„ÉÄ„Åå„ÅÇ„Çä„Åæ„Åô")); return; }
  parent.folders[nu] = parent.folders[old];
  delete parent.folders[old];
  path[path.length-1] = nu;
  persist();
  render();
}
function deleteCurrentFolder(){
  if(path.length===0){ alert(t("„Éõ„Éº„É†„ÅØÂâäÈô§„Åß„Åç„Åæ„Åõ„Çì")); return; }
  const parent = getParentNode();
  const name = path[path.length-1];
  const ok = confirm(`${t("ÂâäÈô§„Åó„Åæ„Åô„Åã?")}„Äå${name}„Äç`);
  if(!ok) return;
  delete parent.folders[name];
  path.pop();
  persist();
  render();
}

/** ========= Editor ========= */
function openEditor(id){
  editingId = id;
  const node = getNode();
  const m = node.memos[id];
if(!m){ alert(t("„É°„É¢„ÅåË¶ã„Å§„Åã„Çä„Åæ„Åõ„Çì")); return; }
  
  el("titleInput").value = m.title || "";
  el("bodyInput").value = m.text || "";
  updateCharCount();

  el("editorView").style.display = "flex";

  // autosave
  clearInterval(autosaveTimer);
  autosaveTimer = setInterval(()=>saveMemo(true), CONFIG.autosaveMs);
  // focus
  setTimeout(()=>el("bodyInput").focus(), 60);
}
function closeEditor(){
  saveMemo(true);
  clearInterval(autosaveTimer);
  autosaveTimer = null;
  el("editorView").style.display = "none";
  editingId = null;
  render();
}
function updateCharCount(){
  el("charCount").textContent = "ÊñáÂ≠óÊï∞ " + (el("bodyInput").value || "").length;
}
function saveMemo(silent=false){
  if(!editingId) return;
  const node = getNode();
  const m = node.memos[editingId];
  if(!m) return;

  m.title = el("titleInput").value || "";
  m.text  = el("bodyInput").value || "";
  m.updatedAt = now();

  persist();
  if(!silent) render();
}

/** ========= bind ========= */
/** ========= bind ========= */
el("backBtn")?.addEventListener("click", goUp);
el("addFolderBtn")?.addEventListener("click", addFolder);
el("addMemoBtn")?.addEventListener("click", addMemo);
el("renameFolderBtn")?.addEventListener("click", renameCurrentFolder);
el("deleteFolderBtn")?.addEventListener("click", deleteCurrentFolder);

el("closeEditorBtn")?.addEventListener("click", closeEditor);
el("saveBtn")?.addEventListener("click", ()=>saveMemo(false));
el("qInput")?.addEventListener("input", ()=>render());
el("bodyInput")?.addEventListener("input", updateCharCount);

// „Å§„ÅÑ„ÅßÔºöÊ§úÁ¥¢„Éú„Çø„É≥„ÅØÂÖÉ„Åã„Çâ‰Ωï„ÇÇ„Åó„Å¶„Å™„ÅÑ„ÅÆ„Åß„ÄÅÊäº„Åó„Åü„ÇâÊ§úÁ¥¢Ê¨Ñ„Å´„Éï„Ç©„Éº„Ç´„Çπ„Åï„Åõ„Å®„Åè
el("searchBtn")?.addEventListener("click", ()=>el("qInput")?.focus());

render();
  
  // ‰∏ÄË¶ß„ÅÆ„ÄåÊñáÂ≠ó„Äç„ÄåÂ≠ó„ÄçÁ≠â„ÄÅJSÊèèÁîª„Å´„ÇÇÂΩ±Èüø„Åï„Åõ„Çã„Å™„ÇâÂÜçÊèèÁîª
}
if(el("modeBtn")) el("modeBtn").addEventListener("click", toggleMode);
renderModeBtn();
applyDict();
  
render();

  /** ========= „É¢„Éº„Éâ & ËæûÊõ∏ ========= */
const MODE_KEY = "memoTree_mode_kouki";
let koukiMode = localStorage.getItem(MODE_KEY) === "1";
  DICT_KOUKI["Â≠ó"] = "g"; // ‚Üê„Åì„Åì„ÅØÂ•Ω„Åø„Åß„ÄÇ„ÄåÂ≠ó„Äç‚Üí„Äåg„Äç„Å†„Å®ËªΩ„Åè„Å¶Â•Ω„Åç
// „ÇÇ„Åó„Åè„ÅØ
DICT_KOUKI["Â≠ó"] = "ÈáçÈáè";
const DICT_NORMAL = {
  // „Åì„Åì„ÅØÂøÖË¶Å„Å™„ÇâÂÖ•„Çå„ÇãÔºàÈÄöÂ∏∏ÊôÇ„ÅÆË°®Ë®ò„ÇíÂ§â„Åà„Åü„ÅÑÂ†¥Âêà„ÅÆ„ÅøÔºâ
};

const DICT_KOUKI = {
  // ‚ë† ÂÖ±ÈÄöUI
  "„Éõ„Éº„É†":"„Éõ„Éº„É†",
  "‰øùÂ≠ò":"Âá¶ÁêÜÂÆå‰∫Ü",
  "Êàª„Çã":"‰∏ÄÊó¶Âºï„Åè",
  "Èñâ„Åò„Çã":"Êí§Âèé",
  "Ê§úÁ¥¢":"Á¥¢Êïµ",
  "„Éï„Ç©„É´„ÉÄÂêçÂ§âÊõ¥":"Áç≤Áâ©ÂêçÂ§âÊõ¥",
  "„Éï„Ç©„É´„ÉÄÂâäÈô§":"Â±†„Çã",
  "„Éï„Ç©„É´„ÉÄ":"Áç≤Áâ©",
  "„É°„É¢":"ËÇâ",
  "„Éï„Ç©„É´„ÉÄ„Å™„Åó":"‰ªïÂÖ•„ÇåÂâç",
  "„É°„É¢„Å™„Åó":"ËÖπ„ÅåÊ∏õ„Å£„Åü",
  "Ôºã„É°„É¢":"ÔºãËß£‰Ωì",
  "ÔºãüìÅ":"Ôºã‰ªïÁïô„ÇÅ„Çã",

  // editor
  "ÊñáÂ≠óÊï∞":"ÈáçÈáè",
  "„Çø„Ç§„Éà„É´":"Âë≥‰ªò„Åë",
  "„Åì„Åì„Å´Êú¨Êñá„ÇíÊõ∏„Åè„ÄÇ":"Ëß£‰Ωì„Ç∑„Éß„Éº„ÅÆÂßã„Åæ„Çä„Å†",

  // Ê§úÁ¥¢Ë£úÂä©
  "„Çø„Ç§„Éà„É´/Êú¨Êñá„ÅÆ‰∏ÄÈÉ®Ôºà‰ªªÊÑèÔºâ":"Á¥¢ÊïµÔºà‰ªªÊÑèÔºâ",

  // ËøΩÂä†„ÅßÂøÖË¶Å„Å´„Å™„Çä„Åå„Å°„Å™„ÇÑ„Å§
  "(ÁÑ°È°å)":"(ÁÑ°È°å)",

  // B „É™„Éç„Éº„É†
  "ÂêçÂâç„ÇíÂ§âÊõ¥":"È¢®Âë≥„ÅÆË™øÊï¥",
  "ÂêçÂâç„ÇíÂ§âÊõ¥„Åó„Åæ„Åó„Åü":"Âë≥„ÇíË™øÊï¥„Åó„Åü",

  // C Á´∂Âêà/‰∏äÊõ∏„Åç
  "‰∏äÊõ∏„Åç„Åó„Åæ„Åó„Åü":"‰ªïËæº„ÅøÂÆå‰∫Ü„Å†",
  "Â§âÊõ¥„ÅåÁ´∂Âêà„Åó„Å¶„ÅÑ„Åæ„Åô":"„Ç™„Éº„ÉÄ„Éº„ÅåË¢´„Å£„Åü",

  // D Ëá™Âãï‰øùÂ≠ò„Çπ„ÉÜ„Éº„Çø„ÇπÔºàÂøÖË¶Å„Å™„ÇâË°®Á§∫„Åô„ÇãÊôÇÁî®Ôºâ
  "Ëá™Âãï‰øùÂ≠ò‰∏≠":"Ëß£‰Ωì„ÅÆÈÇ™È≠î„Çí„Åô„Çã„Å™",
  "Ëá™Âãï‰øùÂ≠òÂÆå‰∫Ü":"ÂØù„Åã„Åõ„Å¶È¶¥Êüì„Åæ„Åõ„Çã",

  // ‚ë§ „ÉÄ„Ç§„Ç¢„É≠„Ç∞È°ûÔºà„ÅÇ„Å™„Åü„ÅÆÊØíËæûÊõ∏„ÅØÂæå„Åß„Åì„Åì„Å´Ë∂≥„Åó„Å¶OKÔºâ
  "ÂêåÂêç„Éï„Ç©„É´„ÉÄ„Åå„ÅÇ„Çä„Åæ„Åô":"Âêå„ÅòÁç≤Áâ©„ÅØË¶Å„Çâ„Å≠„Åà",
  "„Éõ„Éº„É†„ÅØÂ§âÊõ¥„Åß„Åç„Åæ„Åõ„Çì":"„Åì„Åì„ÅØÂãï„Åã„Åõ„Å≠„Åà",
  "„Éõ„Éº„É†„ÅØÂâäÈô§„Åß„Åç„Åæ„Åõ„Çì":"„Åì„Åì„ÅØÂ±†„Çå„Å≠„Åà",
  "„É°„É¢„ÅåË¶ã„Å§„Åã„Çä„Åæ„Åõ„Çì":"ÊØí„ÅÆÁóïË∑°„Åå„Å™„ÅÑ"
};

function dict(){
  return koukiMode ? DICT_KOUKI : DICT_NORMAL;
}
function t(s){
  const d = dict();
  return d[s] ?? s;
}

// data-i18n „Å® data-phÔºàplaceholderÔºâ „Çí‰∏ÄÊã¨ÂèçÊò†
function applyDict(){
  document.querySelectorAll("[data-i18n]").forEach(el=>{
    const key = el.getAttribute("data-i18n");
    el.textContent = t(key);
  });
  document.querySelectorAll("[data-ph]").forEach(el=>{
    const key = el.getAttribute("data-ph");
    el.setAttribute("placeholder", t(key));
  });
  // „Çø„Ç§„Éà„É´„ÇÑ tooltip „ÇÇÂøÖË¶Å„Å™„Çâ„Åì„Åì„Åß
}


  
</script>
</body>
</html>
